---
description: 'フロントエンドPageModel: TanStack Query使用法 + UI分離'
globs:
  [
    'frontend/src/modules/**/model/**/*.{ts,tsx}',
    'frontend/src/modules/**/api/**/*.{ts,tsx}',
  ]
alwaysApply: false
---

# PageModel (TanStack Query) ルール

## 責務

- PageModelは`useQuery`/`useMutation`を所有。
- UIはPageModelの出力のみを消費 (ViewState + ハンドラー)。
- UIは`modules/*/api`や`shared/api`を直接インポートしてはならない。

## 型

- `any`を避ける。明示的なジェネリクスを使用:
  - `useMutation<TData, TError, TVariables>()`
- クエリキー/無効化は機能ローカルに保つ (sharedに散乱させない)。