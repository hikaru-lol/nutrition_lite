# ğŸ¥— Nutrition Tracker

## æ¦‚è¦

**AIé§†å‹•ã®æ „é¤Šç®¡ç†SaaS** â€” æ—¥ã€…ã®é£Ÿäº‹è¨˜éŒ²ãƒ»æ „é¤Šåˆ†æãƒ»ç›®æ¨™ç®¡ç†ãƒ»é£Ÿäº‹æ¨è–¦ã‚’æä¾›ã™ã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.js 16ï¼‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆFastAPIï¼‰ã®ãƒ¢ãƒãƒ¬ãƒæ§‹æˆã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 16, React 19, TypeScript 5
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: TailwindCSS v4, Radix UI, shadcn/ui
- **çŠ¶æ…‹ç®¡ç†**: TanStack React Query, react-hook-form
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Zod
- **API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: openapi-fetch, Axios
- **ãƒ†ã‚¹ãƒˆ**: MSW (Mock Service Worker)
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£**: pnpm

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: FastAPI, Uvicorn
- **ORM**: SQLAlchemy 2.0, Alembic (ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³)
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Pydantic v2
- **èªè¨¼**: JWT (python-jose), bcrypt
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: MinIO (S3 äº’æ›)
- **AI**: OpenAI API (GPT-4)
- **æ±ºæ¸ˆ**: Stripe (Subscription, Checkout, Webhook)
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£**: uv

## é–‹ç™ºæ™‚ã®å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

å¿…è¦ã«å¿œã˜ã¦ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„

- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£: `docs/ai/clean-architecture.md`
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `docs/ai/fsd-patterns.md`
- OpenAPI: `docs/ai/openapi-spec.md`

### ã‚¤ãƒ³ãƒ•ãƒ©

- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL 16
- **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: MinIO
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker Compose (devcontainer)

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
/workspace
â”œâ”€â”€ frontend/          # Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ backend/           # FastAPI API ã‚µãƒ¼ãƒãƒ¼
â”œâ”€â”€ docs/              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (OpenAPI ä»•æ§˜ãªã©)
â”œâ”€â”€ .devcontainer/     # é–‹ç™ºã‚³ãƒ³ãƒ†ãƒŠè¨­å®š
â””â”€â”€ .github/           # CI/CD ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ (Feature-Sliced Design)

```
frontend/src/
â”œâ”€â”€ app/                # Next.js App Router
â”‚   â”œâ”€â”€ (app)/         # èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ (onboarding)/  # ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼
â”‚   â”œâ”€â”€ (public)/      # å…¬é–‹ãƒšãƒ¼ã‚¸ (ãƒ­ã‚°ã‚¤ãƒ³ç­‰)
â”‚   â””â”€â”€ api/           # BFF API ãƒ«ãƒ¼ãƒˆ (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¸ã®ãƒ—ãƒ­ã‚­ã‚·)
â”œâ”€â”€ modules/           # æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (12ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
â”‚   â”œâ”€â”€ auth/          # èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”œâ”€â”€ billing/       # èª²é‡‘ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ calendar/      # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º
â”‚   â”œâ”€â”€ meal/          # é£Ÿäº‹ç®¡ç†
â”‚   â”œâ”€â”€ meal-recommendation/  # AIé£Ÿäº‹æ¨è–¦
â”‚   â”œâ”€â”€ nutrition/     # æ „é¤Šãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
â”‚   â”œâ”€â”€ nutrition-progress/    # æ „é¤Šæ¨ç§»ã‚°ãƒ©ãƒ•
â”‚   â”œâ”€â”€ profile/       # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ reports/       # AIæ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ target/        # æ „é¤Šç›®æ¨™
â”‚   â”œâ”€â”€ today/         # ä»Šæ—¥ã®ã‚µãƒãƒªãƒ¼
â”‚   â””â”€â”€ tutorial/      # ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
â”œâ”€â”€ components/ui/     # å…±é€š UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Radix UI)
â””â”€â”€ shared/            # å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ§‹æˆ (Clean Architecture)

```
backend/app/
â”œâ”€â”€ api/http/          # HTTP ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (ãƒ«ãƒ¼ãƒˆã€ã‚¹ã‚­ãƒ¼ãƒ)
â”œâ”€â”€ application/       # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€DTOã€ãƒãƒ¼ãƒˆå®šç¾©
â”œâ”€â”€ domain/            # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼
â”œâ”€â”€ infra/             # ãƒªãƒã‚¸ãƒˆãƒªã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ db/           # SQLAlchemy ãƒ¢ãƒ‡ãƒ«ã€ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â”œâ”€â”€ security/     # JWTã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥
â”‚   â”œâ”€â”€ storage/      # MinIO/S3
â”‚   â”œâ”€â”€ llm/          # OpenAI çµ±åˆ
â”‚   â””â”€â”€ billing/      # Stripe çµ±åˆ
â””â”€â”€ di/                # ä¾å­˜æ€§æ³¨å…¥ã‚³ãƒ³ãƒ†ãƒŠ
```

@docs/ai/frontend-guidelines.md

## å…±é€šãƒ«ãƒ¼ãƒ«

- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ Conventional Commits å½¢å¼ï¼ˆfeat:, fix:, docs:ãªã©ï¼‰
- PR ã¯æ—¥æœ¬èªã§è¨˜è¿°
- ç’°å¢ƒå¤‰æ•°ã¯å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® `.env.local` / `.env` ã§ç®¡ç†

## ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd frontend
pnpm dev              # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (localhost:3000)
pnpm build            # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
pnpm lint             # ESLint å®Ÿè¡Œ
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
cd backend
uv sync                                    # ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv run uvicorn app.main:app --reload       # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (localhost:8000)
uv run alembic upgrade head                # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
uv run pytest -m "not real_integration" tests/unit/        # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
uv run pytest -m "not real_integration" tests/integration  # çµ±åˆãƒ†ã‚¹ãƒˆ
uv run ruff check                          # Lint
uv run mypy app                            # å‹ãƒã‚§ãƒƒã‚¯
```

### Docker (devcontainer)

```bash
# .devcontainer/docker-compose.dev.yml ã§ä»¥ä¸‹ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•
# - dev: é–‹ç™ºã‚³ãƒ³ãƒ†ãƒŠ
# - db: PostgreSQL 16
# - minio: MinIO (S3 äº’æ›ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)
```

## API ä»•æ§˜

- **ãƒ™ãƒ¼ã‚¹ URL**: `http://localhost:8000/api/v1`
- **OpenAPI ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `http://localhost:8000/docs`
- **OpenAPI ä»•æ§˜**: `docs/openapi/openapi.yaml`

### ä¸»è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

| æ©Ÿèƒ½         | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ                                           |
| ------------ | -------------------------------------------------------- |
| èªè¨¼         | `POST /auth/register`, `/login`, `/refresh`, `/logout`, `DELETE /auth/me`   |
| ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« | `GET /profile/me`, `POST /profile`, `PUT /profile/{id}`       |
| ç›®æ¨™         | `GET /targets`, `POST /targets`, `GET /targets/active`, `PATCH/DELETE /targets/{id}`, `POST /targets/{id}/activate`   |
| é£Ÿäº‹         | `GET/POST /meals`, `GET /meals/{date}`, `PATCH/DELETE /meals/{id}` |
| æ „é¤Š         | `POST /nutrition/compute`, `GET /nutrition/daily/{date}`, `GET /nutrition/summary`         |
| èª²é‡‘         | `POST /billing/checkout`, `POST /billing/create-checkout-session`, `GET /billing/portal`, `POST /billing/stripe/webhook`          |
| ãƒ¬ãƒãƒ¼ãƒˆ     | `GET /daily-reports/{date}`, `POST /daily-reports/generate` |
| é£Ÿäº‹æ¨è–¦     | `POST /recommendations/meal`, `GET /recommendations/meal/history` |
| ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼   | `GET /calendar/records` |
| ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« | `GET /tutorial/steps/{id}`, `POST /tutorial/steps/{id}/complete` |

## èªè¨¼

- **æ–¹å¼**: Cookie ãƒ™ãƒ¼ã‚¹ã® JWT (AccessToken + RefreshToken)
- **ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™**: Access 15 åˆ†ã€Refresh 7 æ—¥
- **Cookie è¨­å®š**: HttpOnly, SameSite=Lax

## ãƒ†ã‚¹ãƒˆ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: `tests/unit/` - ãƒ•ã‚§ã‚¤ã‚¯å®Ÿè£…ã‚’ä½¿ç”¨
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: `tests/integration/` - ãƒ•ã‚§ã‚¤ã‚¯ or å®Ÿã‚¤ãƒ³ãƒ•ãƒ©
- **å®Ÿçµ±åˆãƒ†ã‚¹ãƒˆ**: `tests/integration_real/` - å®Ÿéš›ã® PostgreSQL, MinIO
- **ãƒãƒ¼ã‚«ãƒ¼**: `@pytest.mark.real_integration` ã§å®Ÿã‚¤ãƒ³ãƒ•ãƒ©ãƒ†ã‚¹ãƒˆã‚’åŒºåˆ¥

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **API ãƒ¢ãƒƒã‚¯**: MSW (Mock Service Worker) ã§é–‹ç™ºæ™‚ã®ãƒ¢ãƒƒã‚¯

## ç’°å¢ƒå¤‰æ•°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸»è¦è¨­å®š

```bash
DATABASE_URL=postgresql+psycopg2://app:app@db:5432/app
JWT_SECRET_KEY=your-secret-key
USE_FAKE_INFRA=true           # true: ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå®Ÿè£…, false: å®Ÿã‚¤ãƒ³ãƒ•ãƒ©
OPENAI_API_KEY=sk-...
STRIPE_API_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
MINIO_ENDPOINT=minio:9000
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¸»è¦è¨­å®š

```bash
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_USE_MOCK=true
NEXT_PUBLIC_API_MOCKING=enabled
```

## CI/CD

GitHub Actions ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:

- `backend-unit-tests.yml` - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- `backend-integration-tests.yml` - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ (ãƒ•ã‚§ã‚¤ã‚¯ã‚¤ãƒ³ãƒ•ãƒ©)
- `backend-real-integration.yml` - å®Ÿã‚¤ãƒ³ãƒ•ãƒ©çµ±åˆãƒ†ã‚¹ãƒˆ (PostgreSQL, MinIO)

## ä¸»è¦æ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ | æŠ€è¡“çš„ãƒã‚¤ãƒ³ãƒˆ |
|------|------|---------------|
| ğŸ” èªè¨¼ | Cookie JWT + BFFãƒ—ãƒ­ã‚­ã‚· | HttpOnly / SameSite=Lax / XSSé˜²æ­¢ |
| ğŸ¯ æ „é¤Šç›®æ¨™ | AIç”Ÿæˆ + æ‰‹å‹•è¨­å®š | OpenAI â†’ ãƒãƒ¼ãƒˆæŠ½è±¡åŒ– â†’ Stubåˆ‡æ›¿ |
| ğŸ½ï¸ é£Ÿäº‹è¨˜éŒ² | æ—¥æ¬¡è¨˜éŒ² + AIæ „é¤Šæ¨å®š | 10ç¨®æ „é¤Šç´ ã®è‡ªå‹•è¨ˆç®— |
| ğŸ“Š æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ | AIåˆ†æãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ | ç›®æ¨™ã¨ã®å·®åˆ†åˆ†æ + æ”¹å–„ææ¡ˆ |
| ğŸ¤– é£Ÿäº‹æ¨è–¦ | å€‹äººæœ€é©åŒ–ã•ã‚ŒãŸææ¡ˆ | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ30åˆ†é–“éš” / æ—¥æ¬¡5å›ï¼‰ |
| ğŸ’³ èª²é‡‘ | Stripe ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ | Checkout / Portal / Webhook |
| ğŸ“… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ | æœˆé–“è¨˜éŒ²ä¸€è¦§ | è¨˜éŒ²å®Œäº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¯è¦–åŒ– |
| ğŸ“ˆ é€²æ—ã‚°ãƒ©ãƒ• | æ „é¤Šæ¨ç§»å¯è¦–åŒ– | Chart.js ã«ã‚ˆã‚‹é€±é–“/æœˆé–“æ¨ç§» |

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ + ãƒãƒ¼ãƒˆ&ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  api/http    â† HTTPå±¤ï¼ˆRouter / Schemaï¼‰      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  application â† ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ï¼ˆUseCase / DTOï¼‰ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  domain      â† ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆEntity / VOï¼‰       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  infra       â† ã‚¤ãƒ³ãƒ•ãƒ©å±¤ï¼ˆDB / LLM / Stripeï¼‰â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾å­˜æ–¹å‘:  api/http â†’ application â†’ domain â† infra
```

- **Unit of Work** ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
- **Repository ãƒ‘ã‚¿ãƒ¼ãƒ³** ã§ãƒãƒ¼ãƒˆå®šç¾© â†’ SQLAlchemyå®Ÿè£…
- **DIï¼ˆä¾å­˜æ€§æ³¨å…¥ï¼‰** ã§ FastAPI Depends() ã«ã‚ˆã‚‹è‡ªå‹•è§£æ±º
- **Feature Flags** ã§ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚Š OpenAI / Stub å®Ÿè£…ã‚’åˆ‡æ›¿

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: 5å±¤ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
Layer 1: UI Presentation     â† ç´”ç²‹ãªè¡¨ç¾ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
Layer 2: UI Orchestration    â† ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
Layer 3: Page Aggregation    â† ãƒšãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã®æ©Ÿèƒ½çµ±åˆ
Layer 4: Feature Logic       â† React Query + çŠ¶æ…‹ç®¡ç†
Layer 5: Domain Services     â† APIå‘¼ã³å‡ºã— + ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
```

## ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

é–‹ç™ºç’°å¢ƒã§ä»¥ä¸‹ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒåˆ©ç”¨å¯èƒ½:
- Email: `demo@example.com`
- Password: `demo1234demo`

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡

| é …ç›® | æ•°å€¤ |
|------|------|
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ ãƒ‰ãƒ¡ã‚¤ãƒ³ | 8 |
| API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | 35+ |
| DBãƒ†ãƒ¼ãƒ–ãƒ« | 14 |
| ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | 35+ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | 12 |
| BFF Routes | 22 |
| CI ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | 3 |
| AIæ©Ÿèƒ½ï¼ˆãƒãƒ¼ãƒˆæŠ½è±¡åŒ–ï¼‰ | 4 |
