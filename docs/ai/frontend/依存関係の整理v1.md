ä»Šå›å®Ÿè£…ã—ãŸNutrientProgressSectionå‘ã‘5å±¤ã‚¢ãƒ¼ã‚­ãƒ†
  ã‚¯ãƒãƒ£ã®ä¾å­˜é–¢ä¿‚

  ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

  Layer 1 (Presentation)
  â”œâ”€â”€ NutrientProgressSection.tsx (Pure UI)

  Layer 2 (UI Orchestration)
  â”œâ”€â”€ TodayPageContent.tsx (Props injection)

  Layer 3 (Page Aggregation)
  â”œâ”€â”€ useTodayPageModel.ts (Feature integration)

  Layer 4 (Feature Logic)
  â”œâ”€â”€ useTodayNutritionProgress.ts (React Query +
  Service)

  Layer 5 (Domain Logic)
  â”œâ”€â”€ targetService.ts (Targetå°‚ç”¨)
  â”œâ”€â”€ mealService.ts (Mealå°‚ç”¨)
  â”œâ”€â”€ nutritionService.ts
  (Nutritionå°‚ç”¨ãƒ»Targetä¾å­˜å‰Šé™¤æ¸ˆã¿)
  â””â”€â”€ nutritionProgressService.ts
  (TargetÃ—Nutritionçµ±åˆ)

  ğŸ”— ä¾å­˜é–¢ä¿‚ã®æµã‚Œ

  NutrientProgressSection.tsx
      â†‘ props
  TodayPageContent.tsx
      â†‘ m.nutrition.*
  useTodayPageModel.ts
      â†‘ nutrition = useTodayNutritionProgress()
  useTodayNutritionProgress.ts
      â†‘ useTargetService() +
  useNutritionProgressService()
  targetService.ts + nutritionProgressService.ts

  âš™ï¸ å„å±¤ã®è²¬å‹™

  | Layer | ãƒ•ã‚¡ã‚¤ãƒ«                         | è²¬å‹™
                 | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
              |
  |-------|------------------------------|-----------
  ---------|-----------------------------------------
  |
  | 1     | NutrientProgressSection.tsx  |
  ç´”ç²‹UIãƒ»è¡¨ç¤ºã®ã¿          | props
                   |
  | 2     | TodayPageContent.tsx         |
  UIã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³       | m.nutrition.*
                      |
  | 3     | useTodayPageModel.ts         | Feature
  Hookçµ±åˆ     | nutrition = 
  useTodayNutritionProgress() |
  | 4     | useTodayNutritionProgress.ts | React
  Query + æ¥­å‹™çµ±åˆ | Layer 5ã‚µãƒ¼ãƒ“ã‚¹ç¾¤
               |
  | 5     | Service.ts                   |
  ç´”ç²‹æ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ãƒ»API       | APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
                           |

  ğŸ¯ ä¿®æ­£ç®‡æ‰€

  1. nutritionService.ts: Targetä¾å­˜é–¢æ•°å‰Šé™¤ï¼ˆLayer
  5æ¸…æƒï¼‰
  2. useTodayPageModel.ts: nutrition
  ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ ï¼ˆLayer 3çµ±åˆï¼‰
  3. TodayPageContent.tsx:
  ç›´æ¥å‘¼ã³å‡ºã—å‰Šé™¤ã€m.nutrition.*ä½¿ç”¨ï¼ˆLayer 2çµ±ä¸€ï¼‰

  ã“ã®æ§‹é€ ã«ã‚ˆã‚Šã€NutrientProgressSectionãŒ5å±¤ã‚¢ãƒ¼ã‚­
  ãƒ†ã‚¯ãƒãƒ£ã§æ­£å¸¸å‹•ä½œã—ã€ä»–ã®æ—¢å­˜æ©Ÿèƒ½ã¨ã‚‚åˆ†é›¢ã•ã‚Œã¦ã„
  ã¾ã™ã€‚