ã„ã„ã§ã™ã­ã€ã§ã¯é£Ÿäº‹è¨˜éŒ²ï¼ˆFoodEntryï¼‰ã ã‘ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã€
Auth / Profile / Target ã¨åŒã˜ãƒãƒªã§ä»•æ§˜ã‚’æ•´ç†ã—ã¦ã„ãã¾ã™ ğŸ’ª

é£Ÿäº‹è¨˜éŒ²ï¼ˆFoodEntryï¼‰æ©Ÿèƒ½ã®ä»•æ§˜ 0. æ¦‚è¦
ç›®çš„

æ—¥ã€…ã®é£Ÿäº‹å†…å®¹ã‚’ã€Œ1 å“ï¼ˆ1 ã‚¨ãƒ³ãƒˆãƒªï¼‰å˜ä½ã€ã§è¨˜éŒ²ã™ã‚‹ã€‚

1 æ—¥ã®ä¸­ã§ã€Œä½•å›ç›®ã®é£Ÿäº‹ã‹ï¼ˆmeal_indexï¼‰ã€ã¨ã€Œãƒ¡ã‚¤ãƒ³ã‹é–“é£Ÿã‹ï¼ˆmeal_typeï¼‰ã€ã‚’åŒºåˆ¥ã—ã¦ç®¡ç†ã™ã‚‹ã€‚

ã“ã®ãƒ‡ãƒ¼ã‚¿ãŒ æ „é¤Šè¨ˆç®—ãƒ»è¨˜éŒ²å®Œäº†åˆ¤å®šãƒ»ãƒ¬ãƒãƒ¼ãƒˆãƒ»ææ¡ˆ ã®ã™ã¹ã¦ã®åœŸå°ã«ãªã‚‹ã€‚

1. ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³è¦–ç‚¹ï¼‰
   1-1. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼šFoodEntry
   FoodEntry(
   id: FoodEntryId,
   user_id: UserId,
   date: date, # ãã®é£Ÿå“ã‚’é£Ÿã¹ãŸæ—¥ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãªæ—¥ä»˜ï¼‰
   meal_type: MealType, # "main" or "snack"
   meal_index: int | None, # main: 1..meals_per_day, snack: None

name: str, # é£Ÿå“åãƒ»ãƒ¡ãƒ‹ãƒ¥ãƒ¼å

amount_value: float | None, # æ•°é‡ï¼ˆ150 ãªã©ï¼‰
amount_unit: str | None, # å˜ä½ï¼ˆ"g", "ml", "piece" ãªã©ï¼‰
serving_count: float | None, # ä½•äººå‰ / ä½•çš¿åˆ† ã‹

note: str | None, # ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰

created_at: datetime,
updated_at: datetime | None,
deleted_at: datetime | None, # soft delete ç”¨

)

1-2. ValueObject / Enum
FoodEntryIdï¼šUUID ãƒ©ãƒƒãƒ‘

MealTypeï¼š

"main"ï¼šãƒ¡ã‚¤ãƒ³ã®é£Ÿäº‹ï¼ˆæœ/æ˜¼/å¤œãªã©ï¼‰

"snack"ï¼šé–“é£Ÿï¼ˆãŠã‚„ã¤ãªã©ï¼‰

ä¸»ãªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ï¼š

InvalidMealTypeError

InvalidMealIndexError

InvalidFoodAmountError

FoodEntryNotFoundError

1-3. ä¸å¤‰æ¡ä»¶ï¼ˆInvariantsï¼‰
meal_type ã¨ meal_index ã®é–¢ä¿‚

meal_type == "main" ã®ã¨ãï¼š

meal_index ã¯ 1 <= meal_index <= meals_per_day

meal_type == "snack" ã®ã¨ãï¼š

meal_index is None

é‡ã®æŒ‡å®š

amount_value + amount_unit ã¨ serving_count ã®å°‘ãªãã¨ã‚‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ã¯æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨

ä¸¡æ–¹ None â†’ InvalidFoodAmountError

ã©ã¡ã‚‰ã‚‚æŒ‡å®šã•ã‚Œã¦ã„ã¦ã‚‚è‰¯ã„ãŒã€æ„å‘³ã¥ã‘ã¯ã€Œé‡ã®è£œè¶³æƒ…å ±ã€ã¨ã—ã¦æ‰±ã†æƒ³å®š

è² ã®å€¤ã¯ä¸å¯ï¼ˆamount_value >= 0, serving_count >= 0ï¼‰

å‰Šé™¤

deleted_at ãŒè¨­å®šã•ã‚ŒãŸ FoodEntry ã¯ã€
é€šå¸¸ã®å–å¾— / é›†è¨ˆ / è¨˜éŒ²å®Œäº†åˆ¤å®šã®å¯¾è±¡ã«ã¯å«ã‚ãªã„ï¼ˆã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆï¼‰

æ‰€æœ‰æ¨©

user_id ã¯å¸¸ã«ãƒ­ã‚°ã‚¤ãƒ³ä¸­ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§ã‚ã‚‹ï¼ˆä»–äººã® FoodEntry ã¯æ“ä½œä¸å¯ï¼‰

2. å¤–éƒ¨ä»•æ§˜ï¼ˆAPI / UX è¦–ç‚¹ï¼‰
   2-1. åˆ©ç”¨è€…ã¨å‰æ
   æ“ä½œä¸»ä½“ï¼šãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼

ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã® meals_per_day ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã¨ã€ã€Œä½•å›ç›®ã® main é£Ÿäº‹ã‹ã€ãŒæ˜ç¢ºã«ãªã‚‹

é£Ÿäº‹è¨˜éŒ²è‡ªä½“ã¯ FREE / TRIAL / PAID å…¨ãƒ—ãƒ©ãƒ³ã§åˆ©ç”¨å¯èƒ½
ï¼ˆãŸã ã—ã€æ „é¤Šè¨ˆç®—ãªã©ã¯ TRIAL / PAID ã®ã¿ï¼‰

2-2. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆUX ãƒ¬ãƒ™ãƒ«ï¼‰
ãã®æ—¥ã® 1 å›ç›®ã®é£Ÿäº‹ã‚’ç™»éŒ²

ã€Œä»Šæ—¥ã€ã€Œ1 å›ç›®ã€ã€Œmainã€ã€Œãƒ¡ãƒ‹ãƒ¥ãƒ¼åã€ã€Œé‡ã€ã‚’å…¥åŠ›ã—ã¦ä¿å­˜

UI ä¸Šã§ã¯ã€Œ1 å›ç›® / 2 å›ç›® / 3 å›ç›® / é–“é£Ÿã€ãªã©ã®ãƒ•ã‚£ãƒ«ã‚¿ã§è¡¨ç¤ºã•ã‚Œã‚‹

2 å›ç›®ãƒ»3 å›ç›®ã®é£Ÿäº‹ã€é–“é£Ÿã®è¿½åŠ 

2 å›ç›®ã® mainã€é–“é£Ÿãªã©ã‚’è¿½åŠ ã§ç™»éŒ²

1 ã¤ã® meal_index ã«è¤‡æ•° FoodEntryï¼ˆãŠã‹ãšã€é£²ã¿ç‰©ãªã©ï¼‰ãŒç´ã¥ã

é£Ÿäº‹å†…å®¹ã®ç·¨é›†

åå‰ãƒ»é‡ãƒ»meal_type ã®å¤‰æ›´

æ—¥ä»˜å¤‰æ›´ï¼ˆåˆ¥ã®æ—¥ã«ç§»å‹•ï¼‰

main â‡” snack ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šå¾—ã‚‹ï¼ˆã“ã®ã¨ã meal_index ã®èª¿æ•´ãŒå¿…è¦ï¼‰

é£Ÿäº‹ã®å‰Šé™¤

ã€Œé–“é•ãˆã¦å…¥åŠ›ã—ãŸã€ã€Œã‚‚ã†ã“ã®å“ç›®ã¯ãªã‹ã£ãŸã“ã¨ã«ã—ãŸã„ã€

ã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆï¼ˆæ¶ˆã—ã¦ã‚‚å±¥æ­´ã«ã¯æ®‹ã›ã‚‹è¨­è¨ˆï¼‰ã ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã¯ã€Œæ¶ˆãˆãŸã€ã‚ˆã†ã«è¦‹ãˆã‚‹

ã‚ã‚‹æ—¥ã®ä¸€è¦§è¡¨ç¤º

date ã‚’æŒ‡å®šã—ã¦ã€ãã®æ—¥ã®å…¨ FoodEntry ã‚’å–å¾—

UI ã§ã¯ main / snack ã®ã‚«ãƒ†ã‚´ãƒªåˆ†ã‘ã€meal_index ã®é †åºã§è¡¨ç¤º

å°†æ¥çš„ã«ï¼š

å‰æ—¥ / å‰å›ã®é£Ÿäº‹ã‚’ã€Œã‚³ãƒ”ãƒ¼ã—ã¦ä»Šæ—¥ã«è²¼ã‚Šä»˜ã‘ã‚‹ã€ãªã©ã®æ©Ÿèƒ½ã‚‚è¿½åŠ ã—ã‚„ã™ã„è¨­è¨ˆã€‚

2-3. API ä»•æ§˜ï¼ˆHTTP ãƒ¬ã‚¤ãƒ¤ï¼‰
ã™ã§ã«ã‚ã‚‹ãƒ«ãƒ¼ãƒˆã«æ²¿ã†å½¢ã§ã€ã€Œå¤–éƒ¨ä»•æ§˜ã€ã¨ã—ã¦æ•´ç†ã—ã¾ã™ã€‚

(1) POST /meal-items
ç›®çš„ï¼šFoodEntry ã®æ–°è¦ä½œæˆ

èªè¨¼ï¼šå¿…é ˆ

ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

{
"date": "2025-11-30",
"meal_type": "main",
"meal_index": 1,
"name": "é¶ã‚€ã­è‚‰ã®ã‚°ãƒªãƒ«",
"amount_value": 150.0,
"amount_unit": "g",
"serving_count": null,
"note": "çš®ãªã—"
}
ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼š

meal_type ã¯ "main" or "snack"

meal_type == "main" ã®å ´åˆ meal_index å¿…é ˆã€ã‹ã¤ 1..meals_per_day

meal_type == "snack" ã®å ´åˆ meal_index ã¯ null or ç„¡è¦–

amount_value + amount_unit ã¨ serving_count ã®å°‘ãªãã¨ã‚‚ä¸€æ–¹ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹ã“ã¨

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼š

201 Created + ä½œæˆã•ã‚ŒãŸ FoodEntry ã®æƒ…å ±

(2) GET /meal-items?date=YYYY-MM-DD
ç›®çš„ï¼šæŒ‡å®šã—ãŸ 1 æ—¥åˆ†ã® FoodEntry ä¸€è¦§ã‚’å–å¾—

èªè¨¼ï¼šå¿…é ˆ

ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼š

dateï¼ˆå¿…é ˆï¼‰

æŒ¯ã‚‹èˆã„ï¼š

deleted_at is None ã®ã‚¨ãƒ³ãƒˆãƒªã®ã¿

main / snack æ··ã–ã£ãŸä¸€è¦§ï¼ˆã‚½ãƒ¼ãƒˆé †ã¯ date, meal_type, meal_index, created_at ç­‰ï¼‰

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼š

{
"items": [
{
"id": "entry-uuid-1",
"date": "2025-11-30",
"meal_type": "main",
"meal_index": 1,
"name": "é¶ã‚€ã­è‚‰ã®ã‚°ãƒªãƒ«",
"amount_value": 150.0,
"amount_unit": "g",
"serving_count": null,
"note": "çš®ãªã—"
},
{
"id": "entry-uuid-2",
"date": "2025-11-30",
"meal_type": "main",
"meal_index": 1,
"name": "ã”é£¯",
"amount_value": 200.0,
"amount_unit": "g",
"serving_count": null,
"note": null
},
{
"id": "entry-uuid-3",
"date": "2025-11-30",
"meal_type": "snack",
"meal_index": null,
"name": "ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ",
"amount_value": 1.0,
"amount_unit": "pack",
"serving_count": null,
"note": null
}
]
}
(3) PATCH /meal-items/{entry_id}
ç›®çš„ï¼šæ—¢å­˜ã® FoodEntry ã‚’æ›´æ–°ï¼ˆãƒ•ãƒ«æ›´æ–°ã¨ã—ã¦æ‰±ã†ï¼‰

èªè¨¼ï¼šå¿…é ˆ

ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã¯ POST ã¨åŒã˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€‚

æŒ¯ã‚‹èˆã„ï¼š

ã‚¨ãƒ³ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„ â†’ 404ï¼ˆFoodEntryNotFoundErrorï¼‰

ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ä½œæˆæ™‚ã¨åŒæ§˜

æ—¥ä»˜ã‚’å¤‰ãˆã‚‹ã¨ã€Œãã® FoodEntry ãŒåˆ¥ã®æ—¥ã«ç§»å‹•ã™ã‚‹ã€æ‰±ã„

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼š

æ›´æ–°å¾Œã® FoodEntry

(4) DELETE /meal-items/{entry_id}
ç›®çš„ï¼šFoodEntry ã®å‰Šé™¤ï¼ˆã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆï¼‰

èªè¨¼ï¼šå¿…é ˆ

æŒ¯ã‚‹èˆã„ï¼š

deleted_at ã‚’ã‚»ãƒƒãƒˆï¼ˆå¤šé‡ DELETE ã¯ idempotent ã«æ‰±ã†ï¼‰

204 No Content

2-4. ä»–æ©Ÿèƒ½ã¨ã®é–¢ä¿‚ï¼ˆå¤–éƒ¨çš„ãªæœŸå¾…ï¼‰
è¨˜éŒ²å®Œäº†åˆ¤å®šï¼ˆDailyLogCompletionï¼‰

meal_type == "main" & deleted_at is None ã® FoodEntry ã‚’å¯¾è±¡ã«ã€
meal_index ã®ã‚»ãƒƒãƒˆ {1..meals_per_day} ãŒåŸ‹ã¾ã£ã¦ã„ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹ã€‚

æ „é¤Šè¨ˆç®—

æ „é¤Šæ¨å®šï¼ˆMealNutritionSummaryï¼‰ã¯ã€ŒåŒã˜ (user_id, date, meal_type, meal_index) ã«å±ã™ã‚‹ FoodEntry ç¾¤ã€ã‚’å…¥åŠ›ã¨ã™ã‚‹ã€‚

ãƒ¬ãƒãƒ¼ãƒˆ / ææ¡ˆ

æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆã‚„ææ¡ˆæ©Ÿèƒ½ã¯ã€FoodEntry â†’ Meal â†’ Daily ã§æ±‚ã‚ãŸæ „é¤Šã‹ã‚‰é–“æ¥çš„ã« FoodEntry ã®å†…å®¹ã‚’æŒ¯ã‚Šè¿”ã‚‹ã€‚

3. å†…éƒ¨ä»•æ§˜ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ / UseCase / Repoï¼‰
   3-1. ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆapp/domain/mealï¼‰
   Entity: FoodEntry
   ä¸Šè¨˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã® VO ã‚’æŒã¤ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€‚

ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ / ãƒ•ã‚¡ã‚¯ãƒˆãƒªã§ Invariants ã‚’ãƒã‚§ãƒƒã‚¯ï¼š

meal_type / meal_index ã®æ•´åˆæ€§

é‡æŒ‡å®šã®å¿…é ˆãƒã‚§ãƒƒã‚¯

æ•°å€¤ã®éè² ãƒã‚§ãƒƒã‚¯

ValueObjects
MealType("main" | "snack")

FoodEntryId(UUID)

ã‚¨ãƒ©ãƒ¼ï¼š

InvalidMealTypeError

InvalidMealIndexError

InvalidFoodAmountError

FoodEntryNotFoundError

3-2. Repository Portï¼ˆapp/application/meal/portsï¼‰
class FoodEntryRepositoryPort(Protocol):
def create(self, entry: FoodEntry) -> None: ...
def update(self, entry: FoodEntry) -> None: ...
def delete(self, entry: FoodEntry) -> None: ... # ã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆ
def get*by_id(self, user_id: UserId, entry_id: FoodEntryId) -> FoodEntry | None: ...
def list_by_user_and_date(self, user_id: UserId, date*: date) -> list[FoodEntry]: ...
list_by_user_and_date ã¯ deleted_at is None ã®ã¿è¿”ã™ã€‚

3-3. UseCaseï¼ˆä¸€é€£ã® CRUDï¼‰
CreateFoodEntryUseCase
å…¥åŠ›ï¼šCreateFoodEntryInputDTO

date, meal_type, meal_index, name, é‡æƒ…å ±, note

æµã‚Œï¼š

DTO â†’ VOï¼ˆMealType ç­‰ï¼‰ â†’ Entity ç”Ÿæˆï¼ˆInvariants ãƒã‚§ãƒƒã‚¯ï¼‰

Repo.create ã§ä¿å­˜

FoodEntryDTO ã¨ã—ã¦è¿”ã™

æ „é¤Šè¨ˆç®—ã‚„ Daily å†è¨ˆç®—ã¯ ã“ã“ã§ã¯è¡Œã‚ãªã„ã€‚
â†’ ä¸Šä½ã®æ „é¤Š UC or API ãƒ¬ã‚¤ãƒ¤ãŒæ‹…ã†ï¼ˆä»Šã¯ Router ã§ã‚„ã£ã¦ã„ã‚‹ï¼‰ã€‚

UpdateFoodEntryUseCase
å…¥åŠ›ï¼šUpdateFoodEntryInputDTO

æµã‚Œï¼š

get_by_id(user_id, entry_id) ã§æ—¢å­˜å–å¾—

è¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã° FoodEntryNotFoundError

DTO ã®å†…å®¹ã§æ–°ã—ã„ Entity ã‚’çµ„ã¿ç«‹ã¦ï¼ˆid/user_id/created_at/deleted_at ã¯ç¶­æŒï¼‰

Repo.update

æ›´æ–°å‰ãƒ»æ›´æ–°å¾Œã®æ—¥ä»˜ã‚’è¿”ã™ DTOï¼ˆãŸã¨ãˆã° UpdateFoodEntryResultDTO(entry, old_date)ï¼‰

DeleteFoodEntryUseCase
å…¥åŠ›ï¼šentry_id

æµã‚Œï¼š

get_by_id ã§å–å¾—

è¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã° FoodEntryNotFoundErrorï¼ˆã¾ãŸã¯å†ªç­‰ã®ãŸã‚ã«ç„¡è¦–ï¼‰

Repo.deleteï¼ˆã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆï¼‰

å‰Šé™¤ã•ã‚ŒãŸ date ã‚’è¿”ã™ DTOï¼ˆDaily å†è¨ˆç®—ç”¨ï¼‰

ListFoodEntriesByDateUseCase
å…¥åŠ›ï¼šuser_id, date

æµã‚Œï¼š

Repo.list_by_user_and_date ã§å–å¾—ã—ã€FoodEntryDTO ã®ãƒªã‚¹ãƒˆã«ã—ã¦è¿”ã™

3-4. infra å±¤ï¼ˆSQLAlchemy ãƒ¢ãƒ‡ãƒ«ï¼‰
food_entries ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆã™ã§ã«ã‚ã‚‹æƒ³å®šï¼‰

ã‚«ãƒ©ãƒ  å‹ å‚™è€ƒ
id UUID PK
user_id UUID users.id FK + index
date DATE
meal_type VARCHAR "main" / "snack"
meal_index INT main ã®ã¨ã 1..N / snack ã¯ NULL
name TEXT
amount_value FLOAT nullable
amount_unit VARCHAR nullable
serving_count FLOAT nullable
note TEXT nullable
created_at TIMESTAMPTZ default now()
updated_at TIMESTAMPTZ
deleted_at TIMESTAMPTZ nullableï¼ˆsoft deleteï¼‰
SqlAlchemyFoodEntryRepository ãŒ FoodEntryRepositoryPort ã‚’å®Ÿè£…ã—ã€

ãƒ¢ãƒ‡ãƒ« â†” ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å¤‰æ›ã‚’æ‹…ã†ã€‚

4. ã¾ã¨ã‚ï¼ˆé£Ÿäº‹è¨˜éŒ²ã®ä»•æ§˜ã®ãƒã‚¤ãƒ³ãƒˆï¼‰
   å½¹å‰²ï¼š

ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½•ã‚’ã©ã‚Œã ã‘é£Ÿã¹ãŸã‹ã€ã‚’ä¸€ç•ªç´°ã‹ã„ç²’åº¦ã§ä¿æŒã™ã‚‹ã€ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ã€‚

æ „é¤Šè¨ˆç®—ãƒ»è¨˜éŒ²å®Œäº†åˆ¤å®šãƒ»æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆãƒ»ææ¡ˆã®ã™ã¹ã¦ã¯ FoodEntry ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã™ã‚‹ã€‚

å¤–éƒ¨ä»•æ§˜ï¼š

/meal-items ç³»ã® API ã§ã€æ—¥ä»˜ãƒ»å›æ•°ï¼ˆmeal_indexï¼‰ãƒ»ç¨®é¡ï¼ˆmain/snackï¼‰ãƒ»é‡ãƒ»ãƒ¡ãƒ¢ã‚’ CRUD ã§ãã‚‹ã€‚

ã‚ã‚‹æ—¥ã®ä¸€è¦§å–å¾—ã¯ GET /meal-items?date=YYYY-MM-DD ã§è¡Œã†ã€‚

UI çš„ã«ã¯ã€Œ1 å›ç›® / 2 å›ç›® / 3 å›ç›® / é–“é£Ÿã€ã”ã¨ã«è¤‡æ•°ã® FoodEntry ã‚’æŸã­ã¦è¡¨ç¤ºã™ã‚‹ã€‚

å†…éƒ¨ä»•æ§˜ï¼š

Domain ã§ meal_type / meal_index / é‡ ã®æ•´åˆæ€§ã‚’ãã£ã¡ã‚Šå®ˆã‚‹ã€‚

Application ã® UseCase ã¯ã€ŒFoodEntry ã®ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤ãƒ»å–å¾—ã€ã«è²¬å‹™ã‚’çµã‚‹ã€‚

æ „é¤Šè¨ˆç®—ã‚„ Daily ã®å†è¨ˆç®—ã¯ FoodEntry ã®è²¬å‹™ã§ã¯ãªãã€ä¸Šä½ã®æ „é¤Šç³» UseCase or API ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ‹…ã†ï¼ˆç–çµåˆã‚’ç¶­æŒï¼‰ã€‚

ã“ã®çŠ¶æ…‹ã¾ã§ä»•æ§˜ã‚’å›ºã‚ã¦ãŠãã¨ã€
ã‚ã¨ã§ã€ŒMealNutritionSummary / DailyNutritionSummary / è¨˜éŒ²å®Œäº† / ãƒ¬ãƒãƒ¼ãƒˆ / ææ¡ˆã€ã¨ã„ã†ä¸Šä½ãƒ¬ã‚¤ãƒ¤ã‚‚
ã‹ãªã‚Šã‚¹ãƒ ãƒ¼ã‚ºã«ä¹—ã›ã¦ã„ã‘ã‚‹ã¨æ€ã„ã¾ã™ ğŸ’¡
